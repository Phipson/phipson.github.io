{"ast":null,"code":"import _classCallCheck from\"/Users/phipson/Documents/GitProjects/phipson.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/phipson/Documents/GitProjects/phipson.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/phipson/Documents/GitProjects/phipson.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/phipson/Documents/GitProjects/phipson.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/phipson/Documents/GitProjects/phipson.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{HashRouter}from'react-router-dom';import React,{Component}from'react';import'../style.css';import $ from'jquery';import gsap from\"gsap\";import{TimelineMax,TweenMax,ScrollToPlugin}from'gsap/all';gsap.registerPlugin(ScrollToPlugin);var SideCarousel=/*#__PURE__*/function(_Component){_inherits(SideCarousel,_Component);var _super=_createSuper(SideCarousel);function SideCarousel(props){var _this;_classCallCheck(this,SideCarousel);_this=_super.call(this,props);_this.state={scrollTop:0,activeElement:0};_this.handleCircleHoverEnter=_this.handleCircleHoverEnter.bind(_assertThisInitialized(_this));_this.handleCircleHoverExit=_this.handleCircleHoverExit.bind(_assertThisInitialized(_this));_this.handleCarouselHoverEnter=_this.handleCarouselHoverEnter.bind(_assertThisInitialized(_this));_this.handleCarouselHoverExit=_this.handleCarouselHoverExit.bind(_assertThisInitialized(_this));_this.handleScrollLocation=_this.handleScrollLocation.bind(_assertThisInitialized(_this));_this.updateScrollState=_this.updateScrollState.bind(_assertThisInitialized(_this));_this.hoverCarouselTL=new TimelineMax({paused:true});return _this;}// When we mount the component, we set all the text that are aligned next to the elements to be invisible and take up no space (to \n// avoid occluding the text or images behind it)\n// We also set the dots for the carousel to trigger based on which project we are looking at\n_createClass(SideCarousel,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.onRef(this);this.hoverCarouselTL.to($(\".ProjectElementSVG,.ProjectElementText\"),{css:{opacity:0.25},duration:0.2}).to($(\".SideCarouselHoverText\"),{css:{opacity:1,marginRight:\"-=10px\"},duration:0.2,stagger:{each:0.08,from:\"start\",ease:\"power1.inOut\"}},\"-=0.2\");this.hoverCarouselTL.eventCallback(\"onReverseComplete\",function(){TweenMax.set($(\".SideCarouselHoverText\"),{css:{display:\"none\"}});});this.hoverCarouselTL.eventCallback(\"onStart\",function(){TweenMax.set($(\".SideCarouselHoverText\"),{css:{display:\"block\"}});});}// Unsubscribe on unmount to avoid memory leak errors\n},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.props.onRef(null);}/**\n     * Function to handle when we have hovered over a dot on the carousel menu\n     * @param {Event} e Event object corresponding to the dot that we just hovered over.\n     */},{key:\"handleCircleHoverEnter\",value:function handleCircleHoverEnter(e){TweenMax.to($(e.target).find(\"circle\"),{css:{fill:\"white\"},duration:0.2});TweenMax.to($(e.target).siblings(\"p\"),{css:{color:\"white\"},duration:0.2});}/**\n     * Function to handle when our mouse leaves a dot on the carousel menu\n     * @param {Event} e Event object corresponding to the dot our mouse just left\n     */},{key:\"handleCircleHoverExit\",value:function handleCircleHoverExit(e,index){if(this.state.activeElement!==index)TweenMax.to($(e.target).find(\"circle\"),{css:{fill:\"none\"},duration:0.2});TweenMax.to($(e.target).siblings(\"p\"),{css:{color:\"rgba(255, 255, 255, 0.5)\"},duration:0.2});}/**\n     * Helper function to play the carousel fade in animation that we have saved as a timeline when we mounted the component\n     */},{key:\"handleCarouselHoverEnter\",value:function handleCarouselHoverEnter(){this.hoverCarouselTL.play();}/**\n     * Helper function to reverse the carousel fade in animation that we have saved as a timeline when we mounted the component\n     */},{key:\"handleCarouselHoverExit\",value:function handleCarouselHoverExit(){this.hoverCarouselTL.reverse();}/**\n     * Helper function to set the scroll location of our window based on which dot we have clicked on\n     * @param {Number} index The index of the carousel that we want to scroll to (while we are scrolling, we disable scroll triggers\n     * via this.props.handleScrollChange(true))\n     */},{key:\"handleScrollLocation\",value:function handleScrollLocation(index){var _this2=this;this.setState(function(){return{scrollTop:window.innerHeight*index,activeElement:index};},function(){TweenMax.to($(window),{scrollTo:{y:window.innerHeight*index},duration:0.5,ease:\"Power2.easeInOut\",onStart:function onStart(){_this2.props.handleScrollChange(false);},onComplete:function onComplete(){_this2.props.handleScrollChange(true);}});});}// Called by ProjectCatalogue based on scroll location\n// Update the scroll state index based on the where we have scrolled to on the Project Catalogue\n},{key:\"updateScrollState\",value:function updateScrollState(index){this.setState(function(){return{scrollTop:window.innerHeight*index,activeElement:index};});}// Change element based on scrollTrigger (use button click to change scrollTop location, but keep all logic within scrollTrigger)\n},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(\"div\",{className:\"SideCarouselWrapper\",onMouseEnter:function onMouseEnter(e){return _this3.handleCarouselHoverEnter();},onMouseLeave:function onMouseLeave(e){return _this3.handleCarouselHoverExit();},children:Object.values(this.props.projectList).map(function(element,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"SideCarouselElement\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"SideCarouselHoverText\",children:element.name}),/*#__PURE__*/_jsx(\"svg\",{className:\"SideCarouselHoverSVG\",viewBox:\"0 0 16 16\",xmlns:\"http://www.w3.org/2000/svg\",onMouseEnter:function onMouseEnter(e){return _this3.handleCircleHoverEnter(e);},onMouseLeave:function onMouseLeave(e){return _this3.handleCircleHoverExit(e,i);},onClick:function onClick(){return _this3.handleScrollLocation(i);},children:/*#__PURE__*/_jsx(\"circle\",{r:\"3\",transform:\"matrix(-1 0 0 1 8 8)\",className:\"SideCarouselCircle\",style:{fill:\"\".concat(_this3.state.activeElement===i?\"white\":\"none\")}})})]},i);})});}}]);return SideCarousel;}(Component);export{SideCarousel as default};","map":{"version":3,"sources":["/Users/phipson/Documents/GitProjects/phipson.github.io/src/components/SideCarousel.js"],"names":["HashRouter","React","Component","$","gsap","TimelineMax","TweenMax","ScrollToPlugin","registerPlugin","SideCarousel","props","state","scrollTop","activeElement","handleCircleHoverEnter","bind","handleCircleHoverExit","handleCarouselHoverEnter","handleCarouselHoverExit","handleScrollLocation","updateScrollState","hoverCarouselTL","paused","onRef","to","css","opacity","duration","marginRight","stagger","each","from","ease","eventCallback","set","display","e","target","find","fill","siblings","color","index","play","reverse","setState","window","innerHeight","scrollTo","y","onStart","handleScrollChange","onComplete","Object","values","projectList","map","element","i","name"],"mappings":"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","sourcesContent":["import { HashRouter } from 'react-router-dom';\nimport React, {Component} from 'react';\nimport '../style.css';\nimport $ from 'jquery';\nimport gsap from \"gsap\";\nimport { TimelineMax, TweenMax, ScrollToPlugin } from 'gsap/all';\n\ngsap.registerPlugin(ScrollToPlugin);\n\nexport default class SideCarousel extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            scrollTop: 0,\n            activeElement: 0,\n        }\n\n        this.handleCircleHoverEnter = this.handleCircleHoverEnter.bind(this);\n        this.handleCircleHoverExit = this.handleCircleHoverExit.bind(this);\n        this.handleCarouselHoverEnter = this.handleCarouselHoverEnter.bind(this);\n        this.handleCarouselHoverExit = this.handleCarouselHoverExit.bind(this);\n        this.handleScrollLocation = this.handleScrollLocation.bind(this);\n        this.updateScrollState = this.updateScrollState.bind(this);\n\n        this.hoverCarouselTL = new TimelineMax({paused: true});\n    }\n\n    // When we mount the component, we set all the text that are aligned next to the elements to be invisible and take up no space (to \n    // avoid occluding the text or images behind it)\n    // We also set the dots for the carousel to trigger based on which project we are looking at\n    componentDidMount() {\n        this.props.onRef(this);\n\n        this.hoverCarouselTL.to($(\".ProjectElementSVG,.ProjectElementText\"), {css: {opacity: 0.25},\n                                                            duration: 0.2})\n                            .to($(\".SideCarouselHoverText\"), {css: {opacity: 1, marginRight: \"-=10px\"},\n                                                                duration: 0.2,\n                                                                stagger: {\n                                                                    each: 0.08,\n                                                                    from: \"start\",\n                                                                    ease: \"power1.inOut\"\n                                                                }}, \"-=0.2\");\n\n        this.hoverCarouselTL.eventCallback(\"onReverseComplete\", function() {\n            TweenMax.set($(\".SideCarouselHoverText\"), {css: {display: \"none\"}});\n        });\n\n        this.hoverCarouselTL.eventCallback(\"onStart\", function() {\n            TweenMax.set($(\".SideCarouselHoverText\"), {css: {display: \"block\"}});\n        });\n    }\n\n    // Unsubscribe on unmount to avoid memory leak errors\n    componentWillUnmount() {\n        this.props.onRef(null);\n    }\n\n    /**\n     * Function to handle when we have hovered over a dot on the carousel menu\n     * @param {Event} e Event object corresponding to the dot that we just hovered over.\n     */\n    handleCircleHoverEnter(e) {\n        TweenMax.to($(e.target).find(\"circle\"), {css: {fill: \"white\"}, duration: 0.2});\n        TweenMax.to($(e.target).siblings(\"p\"), {css: {color: \"white\"}, duration: 0.2});\n    }\n\n    /**\n     * Function to handle when our mouse leaves a dot on the carousel menu\n     * @param {Event} e Event object corresponding to the dot our mouse just left\n     */\n    handleCircleHoverExit(e, index) {\n        if (this.state.activeElement !== index)\n            TweenMax.to($(e.target).find(\"circle\"), {css: {fill: \"none\"}, duration: 0.2});\n    \n        TweenMax.to($(e.target).siblings(\"p\"), {css: {color: \"rgba(255, 255, 255, 0.5)\"}, duration: 0.2});\n    }\n\n    /**\n     * Helper function to play the carousel fade in animation that we have saved as a timeline when we mounted the component\n     */\n    handleCarouselHoverEnter() {\n        this.hoverCarouselTL.play();\n    }\n\n    /**\n     * Helper function to reverse the carousel fade in animation that we have saved as a timeline when we mounted the component\n     */\n    handleCarouselHoverExit() {\n        this.hoverCarouselTL.reverse();\n    }\n\n    /**\n     * Helper function to set the scroll location of our window based on which dot we have clicked on\n     * @param {Number} index The index of the carousel that we want to scroll to (while we are scrolling, we disable scroll triggers\n     * via this.props.handleScrollChange(true))\n     */\n    handleScrollLocation(index) {\n        this.setState(() => ({\n            scrollTop: window.innerHeight*index,\n            activeElement: index\n        }), () => {\n            TweenMax.to($(window), {scrollTo: {y: window.innerHeight*index}, duration: 0.5, ease: \"Power2.easeInOut\",\n            onStart: () => {this.props.handleScrollChange(false)}, onComplete: () => {this.props.handleScrollChange(true)}});\n        });\n    }\n\n    // Called by ProjectCatalogue based on scroll location\n    // Update the scroll state index based on the where we have scrolled to on the Project Catalogue\n    updateScrollState(index) {\n        this.setState(() => ({\n            scrollTop: window.innerHeight * index,\n            activeElement: index,\n        }));\n    }\n\n    // Change element based on scrollTrigger (use button click to change scrollTop location, but keep all logic within scrollTrigger)\n    render() {\n        return(\n            <div className=\"SideCarouselWrapper\"\n                onMouseEnter={(e) => this.handleCarouselHoverEnter()}\n                onMouseLeave={(e) => this.handleCarouselHoverExit()}>\n                {Object.values(this.props.projectList).map((element, i) => \n                    <div key={i} className=\"SideCarouselElement\">\n                        <p className=\"SideCarouselHoverText\">{element.name}</p>\n                        <svg className=\"SideCarouselHoverSVG\" viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\"\n                            onMouseEnter={(e) => this.handleCircleHoverEnter(e)}\n                            onMouseLeave={(e) => this.handleCircleHoverExit(e, i)}\n                            onClick={() => this.handleScrollLocation(i)}>\n                            <circle r=\"3\" transform=\"matrix(-1 0 0 1 8 8)\" \n                                    className={\"SideCarouselCircle\"}\n                                    style={{fill: `${this.state.activeElement === i ? \"white\" : \"none\"}`}}/>\n                        </svg>\n                    </div>\n                )}\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}